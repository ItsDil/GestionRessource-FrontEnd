<div class="layout-px-spacing"  style="margin-right: 40px; margin-left: 40px;" >

  <!--  <div class="middle-content container-xxl p-0">-->
  <!-- BREADCRUMB -->
  <div class="breadcrumb-wrapper-content mb-1 mt-2 d-flex start" style="background:white; width: 100%; ">
    <nav class="breadcrumb-style-two  mb-2" aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg><span class="inner-text">Home</span></a></li>
        <li class="breadcrumb-item"><a href="#">Gestion Constat</a></li>
        <li class="breadcrumb-item active" aria-current="page">Constat</li>
      </ol>
    </nav>
  </div>
  <!-- /BREADCRUMB -->


  <form [formGroup]="formFilterPanne">
    <div class="row mt-5">
      <div class="col-xxl-3 ">
        <label >Depatement</label>
        <select  (click)="handleShowPanneByDep()" class="form-select" aria-label="Default select example" formControlName="byDepart">
          <option value="Informatique">Informatique</option>
          <option value="Mathematique">Mathematique</option>
        </select>
      </div>
    </div>
  </form>


  <div class="widget-content widget-content-area" style="padding: 20px; margin-top: 40px;">
    <div class="table-responsive">
      <table class=" table table-hover">
        <thead>
        <tr>

          <th class="" scope="col">ID</th>
          <th scope="col">Enseignant</th>
          <th scope="col">Email</th>
          <th class="" scope="col">Type Ressource</th>
          <th class="" scope="col">Date Constat</th>
          <th class="" scope="col">Date Garentie</th>

          <th class="text-center" scope="col">Status Grantie</th>

        </tr>
        </thead>
        <tbody id ="openModelConstatShow">
        <!--          <tr *ngFor="let ress of ressources" (click)="handleShowRess(ress)">-->
        <tr *ngFor="let panne of showPannesFiltred!.pannes" (click)="handleConstatShow(panne)">

          <td>{{panne.idPanne}}</td>
          <td>
            <span class="table-inner-text">{{panne.firstname}}</span>
          </td>
          <td>
            <span class="table-inner-text">{{panne.email}}</span>
          </td>

          <ng-container *ngIf="panne.ressource.vitesse">
            <td class="">Imprimante</td>
          </ng-container>
          <ng-container *ngIf="panne.ressource.cpu">
            <td class="">Ordinateur</td>
          </ng-container>
          <td>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            <span class="table-inner-text">{{panne.dateConstat}}</span>
          </td>
          <td>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            <span class="table-inner-text">{{panne.ressource.dateFinGarantie}}</span>
          </td>
          <td class="text-center">
                <span *ngIf="handleIsStillInGrantie(panne.ressource.dateFinGarantie)==false">
                    <svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; width: 35px; height: 35px;" xml:space="preserve" class=""><g><g data-name="Layer_1"><g data-name="274380528"><g data-name="274380048"><path d="M256 35C134.14 35 35 134.14 35 256s99.14 221 221 221 221-99.14 221-221S377.86 35 256 35zm154.25 309.26a5.12 5.12 0 0 1-.31.62 4.93 4.93 0 0 1-.4.61 178.93 178.93 0 0 1-64 64c-.2.14-.42.28-.64.41a5.12 5.12 0 0 1-.62.31 177.43 177.43 0 0 1-176.52 0 5.12 5.12 0 0 1-.62-.31c-.22-.13-.44-.27-.64-.41a178.93 178.93 0 0 1-64-64 4.93 4.93 0 0 1-.4-.61 5.12 5.12 0 0 1-.31-.62 177.43 177.43 0 0 1 0-176.52 5.12 5.12 0 0 1 .31-.62c.13-.22.27-.44.41-.64a179 179 0 0 1 64-64c.2-.14.42-.28.64-.41a5.12 5.12 0 0 1 .62-.31 177.43 177.43 0 0 1 176.52 0 5.12 5.12 0 0 1 .62.31c.22.13.44.27.64.41a179 179 0 0 1 64 64c.14.2.28.42.41.64a5.12 5.12 0 0 1 .31.62 177.43 177.43 0 0 1 0 176.52z" fill="#ff9900" data-original="#000000" class=""></path><path d="M377.1 256a7 7 0 0 1 7-7h35.51a162.38 162.38 0 0 0-18.44-68.73L370.44 198a7 7 0 0 1-7-12.12l30.71-17.73a164.94 164.94 0 0 0-50.31-50.31l-17.73 30.71a7 7 0 1 1-12.12-7l17.74-30.73A162.38 162.38 0 0 0 263 92.39v35.51a7 7 0 0 1-14 0V92.39a162.38 162.38 0 0 0-68.73 18.44L198 141.56a7 7 0 1 1-12.12 7l-17.73-30.71a164.94 164.94 0 0 0-50.31 50.31l30.71 17.73a7 7 0 1 1-7 12.12l-30.73-17.74A162.38 162.38 0 0 0 92.39 249h35.51a7 7 0 0 1 0 14H92.39a162.38 162.38 0 0 0 18.44 68.73L141.56 314a7 7 0 1 1 7 12.12l-30.71 17.73a164.94 164.94 0 0 0 50.31 50.31l17.73-30.71a7 7 0 0 1 12.12 7l-17.74 30.73A162.38 162.38 0 0 0 249 419.61V384.1a7 7 0 0 1 14 0v35.51a162.38 162.38 0 0 0 68.73-18.44L314 370.44a7 7 0 1 1 12.12-7l17.73 30.71a164.94 164.94 0 0 0 50.31-50.31l-30.71-17.73a7 7 0 0 1 7-12.12l30.73 17.74A162.38 162.38 0 0 0 419.61 263H384.1a7 7 0 0 1-7-7zm-72.78 13a7 7 0 0 1-8.57 4.95l-41.56-11.14A7 7 0 0 1 249 256v-70.48a7 7 0 1 1 14 0v65.11l36.37 9.74a7 7 0 0 1 4.95 8.63z" fill="#ff9900" data-original="#000000" class=""></path></g></g></g></g></svg>
                </span>
                 <span *ngIf="handleIsStillInGrantie(panne.ressource.dateFinGarantie)==true" >
                     <svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; width: 35px; height: 35px;" xml:space="preserve" class=""><g><g data-name="Layer_1"><g data-name="274380528"><g data-name="274380048"><path d="M256 35C134.14 35 35 134.14 35 256s99.14 221 221 221 221-99.14 221-221S377.86 35 256 35zm154.25 309.26a5.12 5.12 0 0 1-.31.62 4.93 4.93 0 0 1-.4.61 178.93 178.93 0 0 1-64 64c-.2.14-.42.28-.64.41a5.12 5.12 0 0 1-.62.31 177.43 177.43 0 0 1-176.52 0 5.12 5.12 0 0 1-.62-.31c-.22-.13-.44-.27-.64-.41a178.93 178.93 0 0 1-64-64 4.93 4.93 0 0 1-.4-.61 5.12 5.12 0 0 1-.31-.62 177.43 177.43 0 0 1 0-176.52 5.12 5.12 0 0 1 .31-.62c.13-.22.27-.44.41-.64a179 179 0 0 1 64-64c.2-.14.42-.28.64-.41a5.12 5.12 0 0 1 .62-.31 177.43 177.43 0 0 1 176.52 0 5.12 5.12 0 0 1 .62.31c.22.13.44.27.64.41a179 179 0 0 1 64 64c.14.2.28.42.41.64a5.12 5.12 0 0 1 .31.62 177.43 177.43 0 0 1 0 176.52z" fill="#068012" data-original="#000000" class=""></path><path d="M377.1 256a7 7 0 0 1 7-7h35.51a162.38 162.38 0 0 0-18.44-68.73L370.44 198a7 7 0 0 1-7-12.12l30.71-17.73a164.94 164.94 0 0 0-50.31-50.31l-17.73 30.71a7 7 0 1 1-12.12-7l17.74-30.73A162.38 162.38 0 0 0 263 92.39v35.51a7 7 0 0 1-14 0V92.39a162.38 162.38 0 0 0-68.73 18.44L198 141.56a7 7 0 1 1-12.12 7l-17.73-30.71a164.94 164.94 0 0 0-50.31 50.31l30.71 17.73a7 7 0 1 1-7 12.12l-30.73-17.74A162.38 162.38 0 0 0 92.39 249h35.51a7 7 0 0 1 0 14H92.39a162.38 162.38 0 0 0 18.44 68.73L141.56 314a7 7 0 1 1 7 12.12l-30.71 17.73a164.94 164.94 0 0 0 50.31 50.31l17.73-30.71a7 7 0 0 1 12.12 7l-17.74 30.73A162.38 162.38 0 0 0 249 419.61V384.1a7 7 0 0 1 14 0v35.51a162.38 162.38 0 0 0 68.73-18.44L314 370.44a7 7 0 1 1 12.12-7l17.73 30.71a164.94 164.94 0 0 0 50.31-50.31l-30.71-17.73a7 7 0 0 1 7-12.12l30.73 17.74A162.38 162.38 0 0 0 419.61 263H384.1a7 7 0 0 1-7-7zm-72.78 13a7 7 0 0 1-8.57 4.95l-41.56-11.14A7 7 0 0 1 249 256v-70.48a7 7 0 1 1 14 0v65.11l36.37 9.74a7 7 0 0 1 4.95 8.63z" fill="#068012" data-original="#000000" class=""></path></g></g></g></g></svg>
                </span>
          </td>

        </tr>
        </tbody>
      </table>
    </div>

  </div>

  <div id="zoomupModalConstatShow"  class="modal animated zoomInUp custo-zoomInUp" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content" style="width: 700px">
        <div class="modal-header">
          <ng-container *ngIf="panneConstat">
            <h5 *ngIf="handleIsStillInGrantie(panneConstat.ressource!.dateFinGarantie)==true" class="modal-title">
              Envoyie la demande de rechange
            </h5>
            <h5 *ngIf="handleIsStillInGrantie(panneConstat.ressource!.dateFinGarantie)==false" class="modal-title">
              Visualiser la panne
            </h5>
          </ng-container>

          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="container">
            <form >

              <ng-container *ngIf="panneConstat">

                <div class="row g-4 mb-4">

                  <div class="col-md-6">
                    <label >Fournisseur : </label>
                    <input value="{{panneConstat!.firstnameFour}}"  type="text" class="form-control" style="color: black!important;"  readonly>

                  </div>
                  <div class="col-md-6">
                    <label >Email :</label>
                    <input value="{{panneConstat!.emailFour}}" type="text" class="form-control"  style="color: black!important;" readonly >
                  </div>
                </div>
                <div *ngIf="panneConstat!.ressource.vitesse" class="row g-4 mb-5">
                  <div class="col-md-12">
                    <label >Type Ressource</label>
                    <input value="Imprimante"  type="text" class="form-control" style="color: black!important;" readonly >

                  </div>
                  <div class="col-md-6">
                    <label >Resolution</label>
                    <input value="{{panneConstat!.ressource.resolution}}"  type="text" class="form-control" style="color: black!important;"  readonly>

                  </div>
                  <div class="col-md-6">
                    <label >Vitesse</label>
                    <input value="{{panneConstat!.ressource.vitesse}}" type="text" class="form-control"  style="color: black!important;" readonly >

                  </div>
                </div>
                <div *ngIf="panneConstat!.ressource.cpu" class="row g-4 mb-5">
                  <div class="col-md-12">
                    <label >Type Ressource</label>
                    <input value="Ordinateur"  type="text" class="form-control" style="color: black!important;"  readonly >

                  </div>
                  <div class="col-md-6">
                    <label >RAM</label>
                    <input value="{{panneConstat!.ressource.ram}}"  type="text" class="form-control" style="color: black!important;"  readonly >

                  </div>
                  <div class="col-md-6">
                    <label >Ecran</label>
                    <input value="{{panneConstat!.ressource.ecran}}" type="text" class="form-control" style="color: black!important;"  readonly>

                  </div>
                  <div class="col-md-6">
                    <label >Stockage</label>
                    <input value="{{panneConstat!.ressource.stockage}}" type="text" class="form-control" style="color: black!important;"  readonly >
                  </div>
                  <div class="col-md-6">
                    <label >CPU</label>
                    <input value="{{panneConstat!.ressource.cpu}}" type="text" class="form-control" style="color: black!important;"  readonly >
                  </div>
                </div>
                <div class="col-md-12">
                  <label >Constat : </label>
                  <textarea class="form-control" id="exampleFormControlTextarea1" rows="10">{{panneConstat!.constat}}</textarea>
                </div>
                <div class="modal-footer md-button">
                  <!--              <button class="btn btn-light-dark" data-bs-dismiss="modal">Discard</button>-->
                  <button *ngIf="handleIsStillInGrantie(panneConstat!.ressource.dateFinGarantie)==true"   type="submit" class="btn btn-primary">Envoie</button>
                </div>
              </ng-container>

            </form>
          </div>
        </div>


      </div>
    </div>
  </div>



</div>
